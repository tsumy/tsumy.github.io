<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[使用Hexo + github page 搭建个人博客]]></title>
      <url>http://tsumy.site/hexo%20record/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>去年就花了点时间用github page弄了个博客，用的是pelican，一个用python写的博客生成器。<br>过程中是各种踩坑，各种填坑，总算把博客搭起来了，结果好像总共就上传了两篇笔记就再也没有更新了，<br>真是惭愧啊（自己强行找的借口就是pelican不好用）。最近在学一些东西，需要做一些笔记和总结，发到csdn和博客园，发现要么是各种审核，<br><!--以上是摘要--><br><a id="more"></a><br><!--以下是余下全文--><br>要么是markdown的功能不好用，对图片和公示支持的不好，反正就是各种限制吧，所以又萌生了<br>自己搭一个博客的想法。有想法就要马上行动，对比了Jekyll和Octopress等静态博客生成器最终选择了Hexo（<a href="https://www.zhihu.com/question/21981094" target="_blank" rel="external">参见知乎回答</a>）。<br>Hexo是一个<em>快速、简洁且高效的博客框架</em>，作者是一个台湾人（<a href="https://zespia.tw/blog/2012/10/11/hexo-debut/" target="_blank" rel="external">Hexo 诞生记</a>），最大的特点就是简洁、快速，<br>而这也正是我所需要的（Hexo有<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">中文文档</a>也是一个优点吧）。<br>想要用Hexo搭建博客的过程最好还是去看官方文档，这里只是对我自己搭建博客的过程做一个记录。</p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>安装Hexo之前，需要安装<a href="https://nodejs.org/en/" target="_blank" rel="external">Node.js</a>，<a href="https://git-scm.com/" target="_blank" rel="external">Git</a>。<br>Node.js不用说，Hexo就是用Node.js写的。而Git对程序员来说，也应该是基本技能了吧，不然怎么在Github上学习别人的代码，结交<del>同性</del>同行好友呢？<br>官方文档说安装 Node.js 的最佳方式是使用 <a href="https://github.com/creationix/nvm" target="_blank" rel="external">nvm</a>，我因为之前没弄过这玩意，所以直接下载的Node.js的安装程序。这两个东西只需要下载并安装，然后一路选择‘下一步’就好。</p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>使用 npm 安装 Hexo，在<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g hexo-cli</div></pre></td></tr></table></figure></p>
<p>此处碰到第一个坑，用npm 安装很长时间没反应，结果把Node.js卸载了重新安装就能用npm。<br>安装完Hexo后，要输入下面命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo init &lt;folder&gt;</div><div class="line">cd &lt;folder&gt;</div><div class="line">npm install</div></pre></td></tr></table></figure></p>
<p>上面第三个命令有提示npm err，然后用下面命令切换到taobao的服务器上，最后终于成功安装。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm config set registry https://registry.npm.taobao.org</div><div class="line">npm install</div></pre></td></tr></table></figure></p>
<p>先在本地测试一下，输入命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo s</div></pre></td></tr></table></figure></p>
<p>在浏览器中输入<a href="http://localhost:4000/，如果看到下图，就说明Hexo安装成功了。" target="_blank" rel="external">http://localhost:4000/，如果看到下图，就说明Hexo安装成功了。</a></p>
<p><img src="http://ob05dsir4.bkt.clouddn.com/Hexotest.PNG" alt=""></p>
<h2 id="修改Hexo配置文件"><a href="#修改Hexo配置文件" class="headerlink" title="修改Hexo配置文件"></a>修改Hexo配置文件</h2><p>打开文件夹中的_config.yml文件进行配置。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># Site 网站</div><div class="line">title:        标题</div><div class="line">subtitle:     副标题</div><div class="line">description:  描述</div><div class="line">author:       作者</div><div class="line"></div><div class="line"># URL</div><div class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class="line">url:          网址</div><div class="line">root: /       根目录</div></pre></td></tr></table></figure></p>
<p>就更改上面这些配置就行了，其他配置暂时不用更改。</p>
<h2 id="更改Hexo的主题"><a href="#更改Hexo的主题" class="headerlink" title="更改Hexo的主题"></a>更改Hexo的主题</h2><p>Hexo可供选择的<a href="https://hexo.io/themes/" target="_blank" rel="external">主题</a>有很多了，我选择的是<a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="external">spfk</a>，<br>比较喜欢这个主题的风格，在这里先感谢这个主题的作者。<br>先将spfk主题克隆到本地，在Hexo目录下运行命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git clone https://github.com/luuman/hexo-theme-spfk themes/spfk</div></pre></td></tr></table></figure></p>
<p>把Hexo目录的_config.yml中theme: landscape 项改为 theme: spfk<br>然后进入 themes/spfk 文件夹中，更改主题的配置文件，主要改了menu的几个选项，duoshuo的domain内容。</p>
<h2 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h2><p>写文章之前先去scaffolds文件夹中更改一下post模板文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: &#123;&#123; title &#125;&#125;</div><div class="line">date: &#123;&#123; date &#125;&#125;</div><div class="line">description: #文章描述</div><div class="line">categories: #文章分类</div><div class="line">- 这是分类</div><div class="line">tags: #文章标签</div><div class="line">- 标签1</div><div class="line">- 标签2</div><div class="line">toc: true #生成目录</div><div class="line">author:</div><div class="line">comments:</div><div class="line">original:</div><div class="line">permalink: #指定链接</div><div class="line">---</div><div class="line"></div><div class="line"></div><div class="line">&lt;!--以上是摘要--&gt;</div><div class="line">&lt;!--more--&gt;</div><div class="line">&lt;!--以下是余下全文--&gt;</div></pre></td></tr></table></figure></p>
<p>然后输入命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo n post newpost</div></pre></td></tr></table></figure></p>
<p>hexo会在source目录下，自动生成一个newpost.md文件，并且文章的属性也已经安装模板样式自动填写了。然后只需要在newpost.md写入正文和更改一些属性就行了。<br>以上内容只需要在本地使用 <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 地址就能查看博客的效果，下面介绍怎样部署到github，利用github page来访问博客。</p>
<h2 id="github-page"><a href="#github-page" class="headerlink" title="github page"></a>github page</h2><p>首先要申请一个github账号，然后在自己的github中新建一个项目（Create a new repository）,<strong>注意</strong>：项目名称只能填写github的账户名.github.io。为了避免每次提交代码的时候都要输入github的用户名和密码，需要为github添加SHH key。<br>运行 git Bash，输入下面的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd ~/.ssh</div><div class="line">ls</div></pre></td></tr></table></figure></p>
<p>如果已经存在id_rsa.pub 或 id_dsa.pub，那么可以跳过创建SSH key，直接把SSH key添加到github中。<br>如果不存在，那么需要创建一个SSH key。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;你的注释名字，可以是邮箱地址或者电脑名等&quot;</div></pre></td></tr></table></figure></p>
<p>接下来几步，一直按回车就行了，如果出现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># The key fingerprint is:</div><div class="line"># 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@example.com</div></pre></td></tr></table></figure></p>
<p>就说明已经创建成功了。用命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">clip &lt; ~/.ssh/id_rsa.pub</div></pre></td></tr></table></figure></p>
<p>把SHH key复制到剪贴板中，接下来打开github个人账户的设置选项，把SHH key添加到github账户中。<img src="http://ob05dsir4.bkt.clouddn.com/sshkey.PNG" alt=""><br>修改Hexo的_config.yml文件，填写部署的方式和地址：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">type: git</div><div class="line">repo:</div><div class="line">  github:git@github.com:yourname.github.io.git,master</div></pre></td></tr></table></figure></p>
<p>输入命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo d -g</div></pre></td></tr></table></figure></p>
<p>如果没有报错，你的博客已经顺利的部署到了github上了。你可以通过在浏览器中输入yourname.github.io这个地址进行访问。</p>
<h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>虽然可以通过github.io已经可以正常访问博客了，但是还想继续折腾，去弄个域名才像个真正的个人博客。登陆<a href="https://sg.godaddy.com/zh" target="_blank" rel="external">GoDaddy</a>，注册完账户，去搜索了一下，选了一个最便宜的域名，选择支付宝付款（注意：推广的附加服务可不要乱选哦）。不到十分钟，我就拥有一个域名了（虽然只有一年时间而已）。去网上查了一下，说是Godaddy的域名服务器不是很好用，于是 <del>注册了一个</del> 可以直接用QQ账号登陆<a href="https://www.dnspod.cn/" target="_blank" rel="external">dnspod</a>，加入了刚买的域名，把这个域名解析到github.io的服务器地址（可以用ping自己的name.github.io来得到服务器IP）。把Godaddy默认的DNS服务器改成dnspod的DNS服务器。最后还要在自己github.io根目录下新建一个CNAME文件，把域名写到这个文件。等待1，2小时，就可以用成功用域名访问博客了。</p>
<h2 id="多部署"><a href="#多部署" class="headerlink" title="多部署"></a>多部署</h2><p>由于各种原因，github服务器的访问速度不是很快（有时候还会抽风访问不了），为了提高博客的访问速度，可以使用<del>国内的</del>（服务器不在国内，而是在香港，但访问速度仍然比github快不少）<a href="https://coding.net" target="_blank" rel="external">coding</a>作为我们的博客服务器。coding和github类似，提供代码托管服务同时也提供pages服务，具体使用说明参考<a href="https://coding.net/help/doc/pages/index.html" target="_blank" rel="external">Coding Pages 介绍</a>。想要同时使用他们的服务器也是可以的。为了提交时不用输入账号和密码，参考之前给github 添加SHH key的做法，需要把本机的SHH key添加到coding账号中，在本地Hexo文件夹的_config.yml中写入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repo:     </div><div class="line">        github: git@github.com:githubname/githubname.github.io.git,master</div><div class="line">        coding: git@git.coding.net:codingname/codingname.git,coding-pages</div></pre></td></tr></table></figure></p>
<p>保存之后，使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo d</div></pre></td></tr></table></figure></p>
<p>命令，Hexo会自动把博客部署到github和coding。当然，还要更改dnspod的设置，加入一条解析规则，把从国内访问域名的请求，解析到coding的服务器上。<br>现在再用域名访问博客，那速度真是相当的快呀。</p>
<p>参考：<br><a href="http://www.jianshu.com/p/73779eacb494" target="_blank" rel="external">http://www.jianshu.com/p/73779eacb494</a><br><a href="http://opiece.me/2015/04/09/hexo-guide/" target="_blank" rel="external">http://opiece.me/2015/04/09/hexo-guide/</a><br><a href="http://www.jianshu.com/p/7ad9d3cd4d6e" target="_blank" rel="external">http://www.jianshu.com/p/7ad9d3cd4d6e</a><br><a href="http://shenzhenwei.coding.me/2016/04/25/%E5%A6%82%E4%BD%95%E5%B0%86HexoBlog%E5%90%8C%E6%97%B6%E5%8F%91%E5%B8%83%E5%88%B0GitHub%E8%B7%9FCoding%E4%B8%8A/" target="_blank" rel="external">http://shenzhenwei.coding.me</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>http://tsumy.site/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.<br><!--以上是摘要--><br><a id="more"></a><br><!--以下是余下全文--></p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    </entry>
    
  
  
</search>
